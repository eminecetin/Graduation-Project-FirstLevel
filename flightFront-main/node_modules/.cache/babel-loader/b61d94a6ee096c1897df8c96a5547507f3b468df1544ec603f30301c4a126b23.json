{"ast":null,"code":"var _jsxFileName = \"/Users/eminecetin/Downloads/flightFront-main/src/pages/Basket/index.js\",\n  _s = $RefreshSig$();\nimport { useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Alert, Image, Button, Text, Box, Modal, ModalOverlay, ModalContent, ModalHeader, ModalFooter, ModalBody, ModalCloseButton, useDisclosure, FormControl, FormLabel, Textarea } from \"@chakra-ui/react\";\nimport { useBasket } from \"../../contexts/BasketContext\";\nimport { postOrder } from \"../../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Basket() {\n  _s();\n  const [address, setAddress] = useState('');\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const initialRef = useRef(null);\n  const {\n    items,\n    removeFromBasket\n  } = useBasket();\n  const total = items.reduce((acc, obj) => acc + obj.price, 0);\n  const handleSubmitForm = async () => {\n    const itemIds = items.map(item => item._id);\n    const input = {\n      address,\n      items: JSON.stringify(itemIds)\n    };\n    const response = await postOrder(input);\n    console.log(response);\n    console.log(itemIds);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: \"5\",\n    children: [items.length < 1 && /*#__PURE__*/_jsxDEV(Alert, {\n      status: \"warning\",\n      children: \"You have not any items in your basket.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this), items.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyleType: \"decimal\"\n        },\n        children: items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginBottom: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/flight/${item._id}`,\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"16\",\n              children: [item.title, \" - \", item.price, \" TL\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Image, {\n              htmlWidth: 200,\n              loading: \"lazy\",\n              src: item.photos[0],\n              alt: \"basket item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            mt: \"2\",\n            size: \"sm\",\n            colorScheme: \"pink\",\n            onClick: () => removeFromBasket(item._id),\n            children: \"Remove from basket\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this)]\n        }, item._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: \"10\",\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"22\",\n          children: [\"Total: \", total, \" TL\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        mt: \"2\",\n        size: \"sm\",\n        colorSchema: \"green\",\n        onClick: onOpen,\n        children: \"Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        initialFocusRef: initialRef,\n        isOpen: isOpen,\n        onClose: onClose,\n        children: [/*#__PURE__*/_jsxDEV(ModalOverlay, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ModalContent, {\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            children: \"Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ModalCloseButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            pb: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n                ref: initialRef,\n                placeholder: \"Address\",\n                value: address,\n                onChange: e => setAddress(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              colorScheme: \"blue\",\n              mr: 3,\n              onClick: handleSubmitForm,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: onClose,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(Basket, \"p9MwR5rO3iFrxRhqp3i+u6+rS9w=\", false, function () {\n  return [useDisclosure, useBasket];\n});\n_c = Basket;\nexport default Basket;\nvar _c;\n$RefreshReg$(_c, \"Basket\");","map":{"version":3,"names":["useRef","useState","Link","Alert","Image","Button","Text","Box","Modal","ModalOverlay","ModalContent","ModalHeader","ModalFooter","ModalBody","ModalCloseButton","useDisclosure","FormControl","FormLabel","Textarea","useBasket","postOrder","jsxDEV","_jsxDEV","Fragment","_Fragment","Basket","_s","address","setAddress","isOpen","onOpen","onClose","initialRef","items","removeFromBasket","total","reduce","acc","obj","price","handleSubmitForm","itemIds","map","item","_id","input","JSON","stringify","response","console","log","p","children","length","status","fileName","_jsxFileName","lineNumber","columnNumber","style","listStyleType","marginBottom","to","fontSize","title","htmlWidth","loading","src","photos","alt","mt","size","colorScheme","onClick","colorSchema","initialFocusRef","pb","ref","placeholder","value","onChange","e","target","mr","_c","$RefreshReg$"],"sources":["/Users/eminecetin/Downloads/flightFront-main/src/pages/Basket/index.js"],"sourcesContent":["import {useRef, useState} from \"react\";\nimport { Link} from \"react-router-dom\"; \nimport { Alert, Image, Button, Text, Box,\n    Modal,\n    ModalOverlay,\n    ModalContent,\n    ModalHeader,\n    ModalFooter,\n    ModalBody,\n    ModalCloseButton,\n    useDisclosure,\n    FormControl,\n    FormLabel,\n    Textarea,\n} from \"@chakra-ui/react\";\nimport { useBasket } from \"../../contexts/BasketContext\";\nimport { postOrder } from \"../../api\";\n\nfunction Basket() {\n\n    const [address, setAddress]=useState('');\n\n    const { isOpen, onOpen, onClose } = useDisclosure();\n    const initialRef = useRef(null)\n\n    const { items, removeFromBasket } = useBasket();\n    const total = items.reduce((acc, obj) => acc + obj.price, 0);\n\n    const handleSubmitForm=async() =>{\n        const itemIds=items.map((item)=>item._id);\n\n        const input ={\n            address,\n            items: JSON.stringify(itemIds),\n        };\n\n        const response = await postOrder(input);\n\n        console.log(response);\n\n        console.log(itemIds);\n    }\n\n    return (\n        <Box p=\"5\">\n            {items.length < 1 && (\n                <Alert status=\"warning\">You have not any items in your basket.</Alert>\n            )}\n\n            {items.length > 0 && (\n                <>\n                    <ul style={{ listStyleType: \"decimal\" }}>\n                        {items.map((item) => (\n                            <li key={item._id} style={{ marginBottom: 20 }}>\n                                <Link to={`/flight/${item._id}`}>\n                                    <Text fontSize=\"16\">\n                                        {item.title} - {item.price} TL\n                                    </Text>\n                                    <Image\n                                        htmlWidth={200}\n                                        loading=\"lazy\"\n                                        src={item.photos[0]}\n                                        alt=\"basket item\"\n                                    />\n                                </Link>\n                                <Button \n                                    mt=\"2\" \n                                    size=\"sm\" \n                                    colorScheme=\"pink\" \n                                    onClick={() => removeFromBasket(item._id)}\n                                >\n                                    Remove from basket\n                                </Button>\n                            </li>\n                        ))}\n                    </ul>\n                    <Box mt=\"10\">\n                        <Text fontSize=\"22\">Total: {total} TL</Text>\n                    </Box>\n\n                    <Button mt=\"2\" size=\"sm\" colorSchema=\"green\" onClick={onOpen}>\n                        Order\n                    </Button>\n\n\n                    <Modal\n        initialFocusRef={initialRef} isOpen={isOpen} onClose={onClose}\n      >\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Order</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody pb={6}>\n            <FormControl>\n              <FormLabel>Address</FormLabel>\n              <Textarea ref={initialRef} placeholder=\"Address\" value={address} onChange={(e)=>setAddress(e.target.value)}/>\n            </FormControl>\n          </ModalBody>\n\n          <ModalFooter>\n            <Button colorScheme='blue' mr={3} onClick={handleSubmitForm}>\n              Save\n            </Button>\n            <Button onClick={onClose}>Cancel</Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n               \n                </>\n            )}\n        </Box>\n    );\n}\n\nexport default Basket;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}